!function(e){if(void 0===e)throw new Error("Geetest requires browser environment");const{document:t}=e,{Math:n}=e,o=t.getElementsByTagName("head")[0];function r(e){this._obj=e}function c(e){const t=this;new r(e)._each(((e,n)=>{t[e]=n}))}r.prototype={_each(e){const{_obj:t}=this;for(const n in t)t.hasOwnProperty(n)&&e(n,t[n]);return this}},c.prototype={api_server:"api.geetest.com",protocol:"http://",typePath:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config(){const e=this;return a(e.type)?e.fallback_config[e.type]:e.new_captcha?e.fallback_config.fullpage:e.fallback_config.slide},_extend(e){const t=this;new r(e)._each(((e,n)=>{t[e]=n}))}};var a=function(e){return"string"==typeof e};const i=function(e){return"object"==typeof e&&null!==e},s=/Mobi/i.test(navigator.userAgent)?3:0,l={},f={},g=function(){const e=new Date,t=e.getFullYear();let n=e.getMonth()+1,o=e.getDate(),r=e.getHours(),c=e.getMinutes(),a=e.getSeconds();return n>=1&&n<=9&&(n=`0${n}`),o>=0&&o<=9&&(o=`0${o}`),r>=0&&r<=9&&(r=`0${r}`),c>=0&&c<=9&&(c=`0${c}`),a>=0&&a<=9&&(a=`0${a}`),`${t}-${n}-${o} ${r}:${c}:${a}`},p=function(e,t,n,o){t=function(e){return e.replace(/^https?:\/\/|\/$/g,"")}(t);let c=function(e){return 0!==(e=e.replace(/\/+/g,"/")).indexOf("/")&&(e=`/${e}`),e}(n)+function(e){if(!e)return"";let t="?";return new r(e)._each(((e,n)=>{(a(n)||function(e){return"number"==typeof e}(n)||function(e){return"boolean"==typeof e}(n))&&(t=`${t+encodeURIComponent(e)}=${encodeURIComponent(n)}&`)})),"?"===t&&(t=""),t.replace(/&$/,"")}(o);return t&&(c=e+t+c),c},u=function(e,n,r,c,a,i,s){var l=function(f){!function(e,n){const r=t.createElement("script");r.charset="UTF-8",r.async=!0,/static\.geetest\.com/g.test(e)&&(r.crossOrigin="anonymous"),r.onerror=function(){n(!0)};let c=!1;r.onload=r.onreadystatechange=function(){c||r.readyState&&"loaded"!==r.readyState&&"complete"!==r.readyState||(c=!0,setTimeout((()=>{n(!1)}),0))},r.src=e,o.appendChild(r)}(p(r,c[f],a,i),(t=>{if(t)if(f>=c.length-1){if(s(!0),n){e.error_code=508;const t=r+c[f]+a;h(e,t)}}else l(f+1);else s(!1)}))};l(0)},d=function(t,o,r,c){if(i(r.getLib))return r._extend(r.getLib),void c(r);if(r.offline)return void c(r._get_fallback_config());const a=`geetest_${parseInt(1e4*n.random())+(new Date).valueOf()}`;e[a]=function(t){"success"==t.status?c(t.data):t.status?c(r._get_fallback_config()):c(t),e[a]=void 0;try{delete e[a]}catch(n){}},u(r,!0,r.protocol,t,o,{gt:r.gt,callback:a},(e=>{e&&c(r._get_fallback_config())}))};var h=function(e,t){u(e,!1,e.protocol,["monitor.geetest.com"],"/monitor/send",{time:g(),captcha_id:e.gt,challenge:e.challenge,pt:s,exception_url:t,error_code:e.error_code},(e=>{}))};const _=function(e,t){const n={networkError:"\u7f51\u7edc\u9519\u8bef",gtTypeError:"gt\u5b57\u6bb5\u4e0d\u662f\u5b57\u7b26\u4e32\u7c7b\u578b"};if("function"!=typeof t.onError)throw new Error(n[e]);t.onError(n[e])};(e.Geetest||t.getElementById("gt_lib"))&&(f.slide="loaded"),e.initGeetest=function(t,n){const o=new c(t);t.https?o.protocol="https://":t.protocol||(o.protocol=`${e.location.protocol}//`),"050cffef4ae57b5d5e529fea9540b0d1"!==t.gt&&"3bd38408ae4af923ed36e13819b14d42"!==t.gt||(o.apiserver="yumchina.geetest.com/",o.api_server="yumchina.geetest.com"),t.gt&&(e.GeeGT=t.gt),t.challenge&&(e.GeeChallenge=t.challenge),i(t.getType)&&o._extend(t.getType),d([o.api_server||o.apiserver],o.typePath,o,(t=>{const{type:r}=t,c=function(){o._extend(t),n(new e.Geetest(o))};l[r]=l[r]||[];const a=f[r]||"init";"init"===a?(f[r]="loading",l[r].push(c),u(o,!0,o.protocol,t.static_servers||t.domains,t[r]||t.path,null,(e=>{if(e)f[r]="fail",_("networkError",o);else{f[r]="loaded";const e=l[r];for(let t=0,n=e.length;t<n;t+=1){const n=e[t];"function"==typeof n&&n()}l[r]=[]}}))):"loaded"===a?c():"fail"===a?_("networkError",o):"loading"===a&&l[r].push(c)}))}}(window);